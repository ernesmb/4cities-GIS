{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Geographic Information Systems Methods and techniques for urban sustainability Erasmus Mundus Master Course in Urban Studies - \u201c4 Cities\u201d 11th Cohort/2020 - Madrid Autonoma\u2019s Period ernesmb.github.io/4cities-GIS Ernesto Mart\u00ednez Becerra Geographer, Geospatial technology specialist. Product Solutions Manager at CARTO . ernesmb@gmail.com | @ernesmb Course methodology In these special, different times we'll have to carry on with the course in a remote and asynchronous way. The learning material is organized in different sections in the left panel, following the first two activities that we already did together (the introduction section and the visit to the CARTO office in Madrid). There will be a section matching each of the days when the course would have taken place. Each section contains links to pieces of open source learning material about a specific aspect or technology around GIS and geospatial technology. Also for each section I will propose optional exercises to help you navigate through the documentation. Any question about the material, exercises, or anything else that you would normally ask in class, I will be happy to try and help via email . Resources Course material source code Download QGIS Get a CARTO account Natural Earth Data ColorBrewer GitHub Gists bl.ocks.org Google Colab Further reading How to lie with maps - Mark Monmonier The power of maps - Denis Wood Rethinking the power of maps - Denis Wood An introduction to GIS - A free book by Victor Olaya - link","title":"Hello"},{"location":"#geographic-information-systems","text":"Methods and techniques for urban sustainability Erasmus Mundus Master Course in Urban Studies - \u201c4 Cities\u201d 11th Cohort/2020 - Madrid Autonoma\u2019s Period ernesmb.github.io/4cities-GIS","title":"Geographic Information Systems"},{"location":"#ernesto-martinez-becerra","text":"Geographer, Geospatial technology specialist. Product Solutions Manager at CARTO . ernesmb@gmail.com | @ernesmb","title":"Ernesto Mart\u00ednez Becerra"},{"location":"#course-methodology","text":"In these special, different times we'll have to carry on with the course in a remote and asynchronous way. The learning material is organized in different sections in the left panel, following the first two activities that we already did together (the introduction section and the visit to the CARTO office in Madrid). There will be a section matching each of the days when the course would have taken place. Each section contains links to pieces of open source learning material about a specific aspect or technology around GIS and geospatial technology. Also for each section I will propose optional exercises to help you navigate through the documentation. Any question about the material, exercises, or anything else that you would normally ask in class, I will be happy to try and help via email .","title":"Course methodology"},{"location":"#resources","text":"Course material source code Download QGIS Get a CARTO account Natural Earth Data ColorBrewer GitHub Gists bl.ocks.org Google Colab","title":"Resources"},{"location":"#further-reading","text":"How to lie with maps - Mark Monmonier The power of maps - Denis Wood Rethinking the power of maps - Denis Wood An introduction to GIS - A free book by Victor Olaya - link","title":"Further reading"},{"location":"01_intro/","text":"An introduction to GIS Let's make some introductions to know each other a bit better :) After that, let's take a look at this brief introduction to GIS .","title":"Intro to GIS"},{"location":"01_intro/#an-introduction-to-gis","text":"Let's make some introductions to know each other a bit better :) After that, let's take a look at this brief introduction to GIS .","title":"An introduction to GIS"},{"location":"02_carto/","text":"CARTO office Welcome! I hope you like our office :) Take a seat and let's talk a bit about what we do here. Slides. Here is map with things to go see in Madrid, by walking time from here! and few more examples of how CARTO is being used to learn about our cities: Informo Madrid Traffic fines in Madrid NYC Crime map Traffic accidents and London weather Madrid trash's map Bus lines performance in Madrid Cadaster info in Benidorm Percentage of population below poverty threshold in NYC How New York was built BBVA Urban Discovery Atlas of inequality Global Forest Watch","title":"CARTO office"},{"location":"02_carto/#carto-office","text":"Welcome! I hope you like our office :) Take a seat and let's talk a bit about what we do here. Slides. Here is map with things to go see in Madrid, by walking time from here! and few more examples of how CARTO is being used to learn about our cities: Informo Madrid Traffic fines in Madrid NYC Crime map Traffic accidents and London weather Madrid trash's map Bus lines performance in Madrid Cadaster info in Benidorm Percentage of population below poverty threshold in NYC How New York was built BBVA Urban Discovery Atlas of inequality Global Forest Watch","title":"CARTO office"},{"location":"03_qgis/","text":"Open Source GIS: QGIS There are plenty of options if you need to work with a GIS, that don't imply acquiring a very expensive license or subscribing to an online service. Even more importantly, many of them come from a joint community effort (sometimes sponsored by companies or public institutions), and they work following the Open Source principles, which \"grant users the rights to study, change, and distribute the software to anyone and for any purpose\" Among these options, QGIS is hands down the most popular choice, as a standalone system or along with other products for different, specific purposes: PostgreSQL / PostGIS , Openlayers , OpenStreetMap , Geoserver , and many, many more. Some of the projects mentioned above are part of OSGeo , The Open Source Geospatial Foundation, that works towards driving global adoption of open geospatial technology. QGIS is also an excellent tool for learning GIS, from the very basics to almost any kind of professional project. There is plenty of high quality learning material available on the web, created and maintained up to date by the QGIS community or third parties. For our course, we will use the Official Training manual . So, first thing is installing QGIS on your computer. There are installers for Windows, Mac and Linux available at the official Download page . You will see that there are two different versions available: 3.12 is the latest version. 3.10 is the Long Term Release (LTR) version. This version is more stable and has an extended support period. The materials we're following are based on this version. Exercises Once installed, these are the recommended exercises: Read this introduction to GIS Dig a bit deeper into different geospatial data types: Vector and Raster Learn about different Coordinate Reference Systems , and try to make a rectangle with an orange's peels ;) Create your first map, following this exercise . You can also try and load a different dataset from Natural Earth Data . Start working with vector data on this exercise . Learn the basics about symbology . Start working with raster data here . The sample data used in the exercises is available here . As explained here , exercises are tagged as \"Basic\" , \"Intermediate\" or \"Advanced\" based on its difficulty or level of expertise required. I'd recommend completing at least the \"Basic\" level exercises, but of course, feel free to try with a higher level if you feel comfortable with it.","title":"QGIS I"},{"location":"03_qgis/#open-source-gis-qgis","text":"There are plenty of options if you need to work with a GIS, that don't imply acquiring a very expensive license or subscribing to an online service. Even more importantly, many of them come from a joint community effort (sometimes sponsored by companies or public institutions), and they work following the Open Source principles, which \"grant users the rights to study, change, and distribute the software to anyone and for any purpose\" Among these options, QGIS is hands down the most popular choice, as a standalone system or along with other products for different, specific purposes: PostgreSQL / PostGIS , Openlayers , OpenStreetMap , Geoserver , and many, many more. Some of the projects mentioned above are part of OSGeo , The Open Source Geospatial Foundation, that works towards driving global adoption of open geospatial technology. QGIS is also an excellent tool for learning GIS, from the very basics to almost any kind of professional project. There is plenty of high quality learning material available on the web, created and maintained up to date by the QGIS community or third parties. For our course, we will use the Official Training manual . So, first thing is installing QGIS on your computer. There are installers for Windows, Mac and Linux available at the official Download page . You will see that there are two different versions available: 3.12 is the latest version. 3.10 is the Long Term Release (LTR) version. This version is more stable and has an extended support period. The materials we're following are based on this version.","title":"Open Source GIS: QGIS"},{"location":"03_qgis/#exercises","text":"Once installed, these are the recommended exercises: Read this introduction to GIS Dig a bit deeper into different geospatial data types: Vector and Raster Learn about different Coordinate Reference Systems , and try to make a rectangle with an orange's peels ;) Create your first map, following this exercise . You can also try and load a different dataset from Natural Earth Data . Start working with vector data on this exercise . Learn the basics about symbology . Start working with raster data here . The sample data used in the exercises is available here . As explained here , exercises are tagged as \"Basic\" , \"Intermediate\" or \"Advanced\" based on its difficulty or level of expertise required. I'd recommend completing at least the \"Basic\" level exercises, but of course, feel free to try with a higher level if you feel comfortable with it.","title":"Exercises"},{"location":"04_qgis/","text":"Open Source GIS: QGIS II On this second session, we'll get a bit more familiar with some of the most usual GIS techniques: symbolization, map composition and some basic geospatial analysis. Cartography and symbolization are crucial for conveying a message through the visualization of geospatial data. The wrong color scheme, data classification or mapping technique can make your map unreadable, create a wrong idea on the reader or even manipulate ideas on purpose. Here is a great post from the Design and Support teams at Mapbox , talking about general best practices applied to mapping pandemic data. On the same topic, here is a very interesting thread about bad practices when mapping Coronavirus data. Reading both references above, you'd notice that they agree upon the need of normalizing the data. Data normalization is a very important step when creating visualizations. Rather than showing absolute values, we should always calculate ratios, percentages, weighted averages, divide by population, by area, or any other operation that gives context to the data and help the map's reader to understand the visualization and the underlying data analysis. For example, without normalization, almost any measure we want to visualize that is relative to human behavior, will look like a population map: there is always more probability of occurence of any phenomenon where there are more people living. Here are XKCD's views on the subject: Once you are more familiar with the first concepts, as loading and visualizing geospatial data, we can start getting into geospatial analysis. The Wikipedia entry about Spatial Analysis is actually a very good introduction to the matter, that I recommend reading carefully. How can geospatial analysis help in Urban Planning / Development? It can help us determine how growing populations affect energy consumption, transportation, public services or housing resources. It also allows for compiling and cross-filtering data from many sources to see how crime, public health, education and housing/real estate outcomes vary by location. (from this article ). New data streams, as such provided by telco companies, mobile GPS data or real-time traffic information can help the urban analyst to draw a new picture of life in the cities. Exercises Add some text labels to your map . Learn the basics about data classification and color ramps . You can also take a look at ColorBrewer , a very well known tool that helps choosing color palettes for maps; and to CARTOcolors , more modern color palettes by Mamata Akella . Learn more about Proportional Symbols , best practices and Cartography principles. Create a printable map layout . Analyze data and solve a spatial problem with GIS techniques following this section","title":"QGIS II"},{"location":"04_qgis/#open-source-gis-qgis-ii","text":"On this second session, we'll get a bit more familiar with some of the most usual GIS techniques: symbolization, map composition and some basic geospatial analysis. Cartography and symbolization are crucial for conveying a message through the visualization of geospatial data. The wrong color scheme, data classification or mapping technique can make your map unreadable, create a wrong idea on the reader or even manipulate ideas on purpose. Here is a great post from the Design and Support teams at Mapbox , talking about general best practices applied to mapping pandemic data. On the same topic, here is a very interesting thread about bad practices when mapping Coronavirus data. Reading both references above, you'd notice that they agree upon the need of normalizing the data. Data normalization is a very important step when creating visualizations. Rather than showing absolute values, we should always calculate ratios, percentages, weighted averages, divide by population, by area, or any other operation that gives context to the data and help the map's reader to understand the visualization and the underlying data analysis. For example, without normalization, almost any measure we want to visualize that is relative to human behavior, will look like a population map: there is always more probability of occurence of any phenomenon where there are more people living. Here are XKCD's views on the subject: Once you are more familiar with the first concepts, as loading and visualizing geospatial data, we can start getting into geospatial analysis. The Wikipedia entry about Spatial Analysis is actually a very good introduction to the matter, that I recommend reading carefully. How can geospatial analysis help in Urban Planning / Development? It can help us determine how growing populations affect energy consumption, transportation, public services or housing resources. It also allows for compiling and cross-filtering data from many sources to see how crime, public health, education and housing/real estate outcomes vary by location. (from this article ). New data streams, as such provided by telco companies, mobile GPS data or real-time traffic information can help the urban analyst to draw a new picture of life in the cities.","title":"Open Source GIS: QGIS II"},{"location":"04_qgis/#exercises","text":"Add some text labels to your map . Learn the basics about data classification and color ramps . You can also take a look at ColorBrewer , a very well known tool that helps choosing color palettes for maps; and to CARTOcolors , more modern color palettes by Mamata Akella . Learn more about Proportional Symbols , best practices and Cartography principles. Create a printable map layout . Analyze data and solve a spatial problem with GIS techniques following this section","title":"Exercises"},{"location":"05_cloud/","text":"Cloud GIS In the last few years, there has been a trend in GIS to create online, subscription based services that allow users to upload and visualize their own data. Focused on design and user experience, a few new players have entered the industry, traditionally lead by ESRI 's solutions, and have made GIS and geospatial technology in general available to a broader audience. Some of them offer free accounts to start playing with, as well as more complex solutions for the big enterprise. Among all the options out there, let's focus on just three of them. CARTO Builder CARTO offers a wide range of products that put together a platform for the analysis and visualization of geospatial data. One of these products is CARTO Builder, which offers the most common functionality in a GIS tool for visualization and analysis, plus sharing options to publish maps online, access to both Open Data and premium, paid datasets from different data providers. Connectivity with different data sources and integratios with other popular tools are also a strength of the CARTO platform, which is built on top of other well known products like PostGIS or Mapnik . There is plenty of learning material available about Builder in CARTO's Help Center . Kepler.gl Kepler.gl is an Open Source visualization tool developed by Uber, that works fully in the client side (your computer's Internet browser). Along with CARTO and other companies in the tech and geo industries, it's part of the Urban Computing Foundation which \"is a neutral forum for accelerating open source and community development that improves mobility, safety, road infrastructure, traffic congestion and energy consumption in connected cities\". Kepler.gl is a great tool for visualizing your data, it has 3D capabilities and a very nice and easy interface. You can use it withouth registering, and it has some sample data to start working with it right away. There is also a very good user's guide available here Mapbox Mapbox provides the building blocks for geospatial applications of many kinds: from cartographic tools for creating basemaps to tools for augmented reality navigation and autonomous cars. Exercises Take a look at Kepler.gl and play with its interface to visualize a sample dataset of your choice. Visualization with CARTO Builder: Trees of San Francisco Analysis with CARTO Builder: The closing of the L line in NYC","title":"Cloud GIS"},{"location":"05_cloud/#cloud-gis","text":"In the last few years, there has been a trend in GIS to create online, subscription based services that allow users to upload and visualize their own data. Focused on design and user experience, a few new players have entered the industry, traditionally lead by ESRI 's solutions, and have made GIS and geospatial technology in general available to a broader audience. Some of them offer free accounts to start playing with, as well as more complex solutions for the big enterprise. Among all the options out there, let's focus on just three of them.","title":"Cloud GIS"},{"location":"05_cloud/#carto-builder","text":"CARTO offers a wide range of products that put together a platform for the analysis and visualization of geospatial data. One of these products is CARTO Builder, which offers the most common functionality in a GIS tool for visualization and analysis, plus sharing options to publish maps online, access to both Open Data and premium, paid datasets from different data providers. Connectivity with different data sources and integratios with other popular tools are also a strength of the CARTO platform, which is built on top of other well known products like PostGIS or Mapnik . There is plenty of learning material available about Builder in CARTO's Help Center .","title":"CARTO Builder"},{"location":"05_cloud/#keplergl","text":"Kepler.gl is an Open Source visualization tool developed by Uber, that works fully in the client side (your computer's Internet browser). Along with CARTO and other companies in the tech and geo industries, it's part of the Urban Computing Foundation which \"is a neutral forum for accelerating open source and community development that improves mobility, safety, road infrastructure, traffic congestion and energy consumption in connected cities\". Kepler.gl is a great tool for visualizing your data, it has 3D capabilities and a very nice and easy interface. You can use it withouth registering, and it has some sample data to start working with it right away. There is also a very good user's guide available here","title":"Kepler.gl"},{"location":"05_cloud/#mapbox","text":"Mapbox provides the building blocks for geospatial applications of many kinds: from cartographic tools for creating basemaps to tools for augmented reality navigation and autonomous cars.","title":"Mapbox"},{"location":"05_cloud/#exercises","text":"Take a look at Kepler.gl and play with its interface to visualize a sample dataset of your choice. Visualization with CARTO Builder: Trees of San Francisco Analysis with CARTO Builder: The closing of the L line in NYC","title":"Exercises"},{"location":"06_geodb/","text":"Geospatial Databases: PostGIS PostGIS","title":"Geospatial databases"},{"location":"06_geodb/#geospatial-databases-postgis","text":"","title":"Geospatial Databases: PostGIS"},{"location":"06_geodb/#postgis","text":"","title":"PostGIS"},{"location":"07_webmaps/","text":"Webmapping Leaflet.js OpenLayers Mapbox.gl CARTO.js","title":"Webmapping"},{"location":"07_webmaps/#webmapping","text":"","title":"Webmapping"},{"location":"07_webmaps/#leafletjs","text":"","title":"Leaflet.js"},{"location":"07_webmaps/#openlayers","text":"","title":"OpenLayers"},{"location":"07_webmaps/#mapboxgl","text":"","title":"Mapbox.gl"},{"location":"07_webmaps/#cartojs","text":"","title":"CARTO.js"},{"location":"l_line/","text":"The closing of the L line and NYC demographics We will need the following datasets for this exercise: New York subway stations : subway_nycstations_l . New York subway lines : nyc_subway_lines . New York block group census : nyc_block_group_census . 1. Create a map Click on NEW MAP . Click on CONNECT DATASET . Drag and drop subway_nycstations_l.gpkg . Click on CONNECT DATASET . Click on Don't show me this again to avoid modals. You can rename the map title as \"The L line and demographics\" by double-clicking on it. 2. Layers Add new layers: Click on ADD . Clik on UPLOAD . Find nyc_subway_lines.gpkg on your computre and click on UPLOAD DATASET . Click on ADD LAYER . Reapeat the same for nyc_block_group_census.csv Now, by moving the layers using drag and drop we can change the order in which the layers are being displayed. We move subway_nycstations_l to the top and nyc_subway_lines in the second position. The layer nyc_block_group_census woudl stay at the bottom of the map. Click on one of the layers to show its components: DATA tab : an overview of your table schema, from here you can also add widgets. If you want to have a look at your dataset, click the Data View icon, located on the bottom right of Builder when a map layer is selected. Take a look at the letter and number the layers card has ( A , B or C ). This would be very useful for adding widgets and analysis. Depending on the order in which you added your data, your layer letters could be different than the screenshots. In this example, subway stations were layer A, subway lines layer B, and block groups layer C. 3. Analysis 3.1 Filter by column value Go to the edit pane. Click layer nyc_subway_lines and then select the Analysis tab. Finally, click on the ADD ANALYSIS button in order to add the analysis. Select Filter by column value analysis. Click on ADD ANALYSIS . Set the parameters as follows: TARGET COLUMN : route_id . VALUE : L . RESULTS : show . Now click on APPLY to see the result of the filtering. This is the L subway line. 3.2 Create Travel/Distance buffer analysis We will apply this analysis to the layer subway_nycstations_l . Go back to the LAYERS pane in Builder's interface and click on 0 ANALYSES under subway_nycstations_l. Click on ANALYSIS , then on ADD ANALYSIS . Select the Create Travel/Distance buffer analysis. Click ADD ANALYSIS . In the ANALYSIS tab of the layer, we have three sections: Your workflow : Since this is the first analysis we're adding to the subway_nycstations_l layer, node A , the analysis layer will be named node A1 . Create areas of influence : BASE LAYER : Should be the layer subway_nycstations_l , node A ( A0 ). TYPE : Distance UNIT : mi RADIUS : 1 TRACKS : 1 BOUNDARIES : Intact After clicking APPLY , we should see this result: an area of influence of 1 mile around each subway station. 3.3 Intersect and Aggregate analysis Go to the edit pane. Click layer nyc_block_group_census and then select the Analysis tab. Finally, click on the ADD ANALYSIS button in order to add the analysis. Select Intersect and aggregate analysis. In the ANALYIS tab of the layer, we have three sections: Your workflow : Since this is the first analysis we're adding to the nyc_block_group_census layer, node C , this analysis layer will be named node C1 . Aggregate intersection : Base Layer : By default the base layer would be nyc_block_group_census . Target Layer : select the result layer of the Area of Influence analysis A1 After clicking APPLY , we should see this result: 3.4 Extract source node and reorder layers Since we used our subway station layer as the input for the buffers analysis, the data appears as polygons. We want the buffers to be underneath the subway lines, and to extract the original subway station points for display. From the subway_stations_l layer, drag out the buffers sublayer and place it under the nyc_subway_lines layer This will create a new layer D , and you will see the subway stations drawn on top of the AOI and block group layers 4. Styling Go to the edit pane, click on the AOI layer D and select the STYLE tab. Set the Fill color to a grey with high opacity, and make the stroke grey also. Go to the edit pane, click on the nyc_block_group_census layer D and select the STYLE tab. Set the Fill color to a grey that blends with the basemap layer. 5. Widgets Go to the edit pane and click on the widgets tab. Click on ADD WIDGET button. Under the CATEGORY tab, click on the check box of variables stop_name and ethnic_1st Under the 'HISTOGRAM' tab, click on the check box of variables median_household_income and median_age Under the 'FORMULA' tab, click on the check box of variable total_pop . Click on CONTINUE 5.1 Explore and style data with Widgets Click on the tear drop icon inside each widget to see the Auto-style feature. Filter the data by interacting with the category and histogram widgets. 5.2 Customize widgets Reorder widgets: From WIDGET tab, drag and drop them into your preferred order. Rename widgets: From WIDGET tab, rename each widget by clicking on its three blue dots and selecting the option to Rename . Formula widget calculation: By default, the formula widget is calculating the average population. However, we want to see the sum of the total population within our map view. Click on the three blue dots in the Total Population widget and select the option to 'Edit' In the OPERATION parameter, select sum . 6. Publish Click on SHARE . Set the map's privacy to LINK or PUBLIC . Click on PUBLISH . Now you can share the map: Link: https://team.carto.com/u/builder-demo/builder/144826d6-0982-11e7-bdeb-0e233c30368f/embed iframe: <iframe width=\"100%\" height=\"520\" frameborder=\"0\" src=\"https://team.carto.com/u/builder-demo/builder/144826d6-0982-11e7-bdeb-0e233c30368f/embed\" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe> Remember to update your map every time you make a change. To see those changes refresh your embed, or the web page where your map is hosted.","title":"The closing of the L line and NYC demographics"},{"location":"l_line/#the-closing-of-the-l-line-and-nyc-demographics","text":"We will need the following datasets for this exercise: New York subway stations : subway_nycstations_l . New York subway lines : nyc_subway_lines . New York block group census : nyc_block_group_census .","title":"The closing of the L line and NYC demographics"},{"location":"l_line/#1-create-a-map","text":"Click on NEW MAP . Click on CONNECT DATASET . Drag and drop subway_nycstations_l.gpkg . Click on CONNECT DATASET . Click on Don't show me this again to avoid modals. You can rename the map title as \"The L line and demographics\" by double-clicking on it.","title":"1. Create a map "},{"location":"l_line/#2-layers","text":"Add new layers: Click on ADD . Clik on UPLOAD . Find nyc_subway_lines.gpkg on your computre and click on UPLOAD DATASET . Click on ADD LAYER . Reapeat the same for nyc_block_group_census.csv Now, by moving the layers using drag and drop we can change the order in which the layers are being displayed. We move subway_nycstations_l to the top and nyc_subway_lines in the second position. The layer nyc_block_group_census woudl stay at the bottom of the map. Click on one of the layers to show its components: DATA tab : an overview of your table schema, from here you can also add widgets. If you want to have a look at your dataset, click the Data View icon, located on the bottom right of Builder when a map layer is selected. Take a look at the letter and number the layers card has ( A , B or C ). This would be very useful for adding widgets and analysis. Depending on the order in which you added your data, your layer letters could be different than the screenshots. In this example, subway stations were layer A, subway lines layer B, and block groups layer C.","title":"2. Layers "},{"location":"l_line/#3-analysis","text":"","title":"3. Analysis "},{"location":"l_line/#31-filter-by-column-value","text":"Go to the edit pane. Click layer nyc_subway_lines and then select the Analysis tab. Finally, click on the ADD ANALYSIS button in order to add the analysis. Select Filter by column value analysis. Click on ADD ANALYSIS . Set the parameters as follows: TARGET COLUMN : route_id . VALUE : L . RESULTS : show . Now click on APPLY to see the result of the filtering. This is the L subway line.","title":"3.1 Filter by column value"},{"location":"l_line/#32-create-traveldistance-buffer-analysis","text":"We will apply this analysis to the layer subway_nycstations_l . Go back to the LAYERS pane in Builder's interface and click on 0 ANALYSES under subway_nycstations_l. Click on ANALYSIS , then on ADD ANALYSIS . Select the Create Travel/Distance buffer analysis. Click ADD ANALYSIS . In the ANALYSIS tab of the layer, we have three sections: Your workflow : Since this is the first analysis we're adding to the subway_nycstations_l layer, node A , the analysis layer will be named node A1 . Create areas of influence : BASE LAYER : Should be the layer subway_nycstations_l , node A ( A0 ). TYPE : Distance UNIT : mi RADIUS : 1 TRACKS : 1 BOUNDARIES : Intact After clicking APPLY , we should see this result: an area of influence of 1 mile around each subway station.","title":"3.2 Create Travel/Distance buffer analysis"},{"location":"l_line/#33-intersect-and-aggregate-analysis","text":"Go to the edit pane. Click layer nyc_block_group_census and then select the Analysis tab. Finally, click on the ADD ANALYSIS button in order to add the analysis. Select Intersect and aggregate analysis. In the ANALYIS tab of the layer, we have three sections: Your workflow : Since this is the first analysis we're adding to the nyc_block_group_census layer, node C , this analysis layer will be named node C1 . Aggregate intersection : Base Layer : By default the base layer would be nyc_block_group_census . Target Layer : select the result layer of the Area of Influence analysis A1 After clicking APPLY , we should see this result:","title":"3.3 Intersect and Aggregate analysis"},{"location":"l_line/#34-extract-source-node-and-reorder-layers","text":"Since we used our subway station layer as the input for the buffers analysis, the data appears as polygons. We want the buffers to be underneath the subway lines, and to extract the original subway station points for display. From the subway_stations_l layer, drag out the buffers sublayer and place it under the nyc_subway_lines layer This will create a new layer D , and you will see the subway stations drawn on top of the AOI and block group layers","title":"3.4 Extract source node and reorder layers"},{"location":"l_line/#4-styling","text":"Go to the edit pane, click on the AOI layer D and select the STYLE tab. Set the Fill color to a grey with high opacity, and make the stroke grey also. Go to the edit pane, click on the nyc_block_group_census layer D and select the STYLE tab. Set the Fill color to a grey that blends with the basemap layer.","title":"4. Styling "},{"location":"l_line/#5-widgets","text":"Go to the edit pane and click on the widgets tab. Click on ADD WIDGET button. Under the CATEGORY tab, click on the check box of variables stop_name and ethnic_1st Under the 'HISTOGRAM' tab, click on the check box of variables median_household_income and median_age Under the 'FORMULA' tab, click on the check box of variable total_pop . Click on CONTINUE","title":"5. Widgets "},{"location":"l_line/#51-explore-and-style-data-with-widgets","text":"Click on the tear drop icon inside each widget to see the Auto-style feature. Filter the data by interacting with the category and histogram widgets.","title":"5.1 Explore and style data with Widgets"},{"location":"l_line/#52-customize-widgets","text":"Reorder widgets: From WIDGET tab, drag and drop them into your preferred order. Rename widgets: From WIDGET tab, rename each widget by clicking on its three blue dots and selecting the option to Rename . Formula widget calculation: By default, the formula widget is calculating the average population. However, we want to see the sum of the total population within our map view. Click on the three blue dots in the Total Population widget and select the option to 'Edit' In the OPERATION parameter, select sum .","title":"5.2 Customize widgets"},{"location":"l_line/#6-publish","text":"Click on SHARE . Set the map's privacy to LINK or PUBLIC . Click on PUBLISH . Now you can share the map: Link: https://team.carto.com/u/builder-demo/builder/144826d6-0982-11e7-bdeb-0e233c30368f/embed iframe: <iframe width=\"100%\" height=\"520\" frameborder=\"0\" src=\"https://team.carto.com/u/builder-demo/builder/144826d6-0982-11e7-bdeb-0e233c30368f/embed\" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe> Remember to update your map every time you make a change. To see those changes refresh your embed, or the web page where your map is hosted.","title":"6. Publish "},{"location":"sf_trees/","text":"San Francisco tree map 1. Import and create map 1. 1. Download and import the dataset Go to https://team.carto.com/u/builder-demo/tables/sf_trees/public/map Download the dataset as a CSV file Go to your account and import it using the NEW DATASET options 1. 2. Dataset view Take a look on the dataset Switch between the metadata and the SQL view, try any simple query like limiting the result. Take a look on the spatial distribution using the PREVIEW option Click on CREATE MAP . 2. Layers and styles 2. 1. Ordering of the layers in the Builder Change the basemap to the Dark Matter (labels below) basemap and check the different basemaps options. Note how the layer we added gets the A0 identifier. This is not important now but it will be later when adding analysis and widgets. 2. 2. Layer options DATA : This interface gives a general view of the fields the layer, its name and its data type but also from there you can add them as widgets. Use the slider button to switch from VALUES to SQL . The SQL view allows more advanced users to manage data in a more precise way. Finally, use the button in the bottom left corner of the map to switch between Data view and Map view . STYLE : In the Aggregation menu , select NONE*. In the FILL options, select BY VALUE and then choose the common_species column to color the dots depending on its values. Change the size of the dots to 3 and change the stroke value of the points to 0 . POP-UP : Select the HOVER tab and the LIGHT style for the hover infowindow. In the Show Items options, select the common_species field and change its name to Common Species . By doing this, a pop-up will appear when we hover over the points on the map. 3. Widgets 3. 1. Category Widget Navigate back to WIDGETS pane and click on ADD WIDGET . In the options of the CATEGORY tab, click the common_species and caretaker checkboxes in order to have widgets that display the different categories of the common_species and caretaker fields. Click CONTINUE to add the widgets on the map. 3. 2. Time series widget Back to the main menu, go to WIDGETS tab and click on ADD WIDGET . In the options of the TIME-SERIES tab, select the plant_date checkbox in order to display the dates were the trees were planted. Click CONTINUE to add the widgets on the map. 3. 3. Change order and name of widgets Back to the main menu, select the WIDGETS tab to see a list with the widgets that we have added. We can drag and drop the widgets in the widget pane to change their order. We can change the name of our widgets by selecting the RENAME option of the widget menu or by double clicking on the widget name in the WIDGETS pane. Change the name of the common_species widget to Common Species , the name of the caretaker widget to Caretaker and the name of the plant_date widget to Plant Date . 4. Share map At the bottom of the main menu, click on SHARE . Go to PUBLISH tab and click on PUBLISH button that is below the Map name in order to share our map. After clicking on PUBLISH , we can select the options that we want to share our map.","title":"San Francisco tree map"},{"location":"sf_trees/#san-francisco-tree-map","text":"","title":"San Francisco tree map"},{"location":"sf_trees/#1-import-and-create-map","text":"","title":"1. Import and create map"},{"location":"sf_trees/#1-1-download-and-import-the-dataset","text":"Go to https://team.carto.com/u/builder-demo/tables/sf_trees/public/map Download the dataset as a CSV file Go to your account and import it using the NEW DATASET options","title":"1. 1. Download and import the dataset"},{"location":"sf_trees/#1-2-dataset-view","text":"Take a look on the dataset Switch between the metadata and the SQL view, try any simple query like limiting the result. Take a look on the spatial distribution using the PREVIEW option Click on CREATE MAP .","title":"1. 2. Dataset view"},{"location":"sf_trees/#2-layers-and-styles","text":"","title":"2. Layers and styles"},{"location":"sf_trees/#2-1-ordering-of-the-layers-in-the-builder","text":"Change the basemap to the Dark Matter (labels below) basemap and check the different basemaps options. Note how the layer we added gets the A0 identifier. This is not important now but it will be later when adding analysis and widgets.","title":"2. 1. Ordering of the layers in the Builder"},{"location":"sf_trees/#2-2-layer-options","text":"DATA : This interface gives a general view of the fields the layer, its name and its data type but also from there you can add them as widgets. Use the slider button to switch from VALUES to SQL . The SQL view allows more advanced users to manage data in a more precise way. Finally, use the button in the bottom left corner of the map to switch between Data view and Map view . STYLE : In the Aggregation menu , select NONE*. In the FILL options, select BY VALUE and then choose the common_species column to color the dots depending on its values. Change the size of the dots to 3 and change the stroke value of the points to 0 . POP-UP : Select the HOVER tab and the LIGHT style for the hover infowindow. In the Show Items options, select the common_species field and change its name to Common Species . By doing this, a pop-up will appear when we hover over the points on the map.","title":"2. 2. Layer options"},{"location":"sf_trees/#3-widgets","text":"","title":"3. Widgets"},{"location":"sf_trees/#3-1-category-widget","text":"Navigate back to WIDGETS pane and click on ADD WIDGET . In the options of the CATEGORY tab, click the common_species and caretaker checkboxes in order to have widgets that display the different categories of the common_species and caretaker fields. Click CONTINUE to add the widgets on the map.","title":"3. 1. Category Widget"},{"location":"sf_trees/#3-2-time-series-widget","text":"Back to the main menu, go to WIDGETS tab and click on ADD WIDGET . In the options of the TIME-SERIES tab, select the plant_date checkbox in order to display the dates were the trees were planted. Click CONTINUE to add the widgets on the map.","title":"3. 2. Time series widget"},{"location":"sf_trees/#3-3-change-order-and-name-of-widgets","text":"Back to the main menu, select the WIDGETS tab to see a list with the widgets that we have added. We can drag and drop the widgets in the widget pane to change their order. We can change the name of our widgets by selecting the RENAME option of the widget menu or by double clicking on the widget name in the WIDGETS pane. Change the name of the common_species widget to Common Species , the name of the caretaker widget to Caretaker and the name of the plant_date widget to Plant Date .","title":"3. 3. Change order and name of widgets"},{"location":"sf_trees/#4-share-map","text":"At the bottom of the main menu, click on SHARE . Go to PUBLISH tab and click on PUBLISH button that is below the Map name in order to share our map. After clicking on PUBLISH , we can select the options that we want to share our map.","title":"4. Share map"}]}